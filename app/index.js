const _0x64f0f7=_0x47e0;(function(_0x56fe59,_0x273c3d){const _0x28ebdd=_0x47e0,_0x4a6031=_0x56fe59();while(!![]){try{const _0x330bda=-parseInt(_0x28ebdd(0x18a))/0x1*(-parseInt(_0x28ebdd(0x184))/0x2)+-parseInt(_0x28ebdd(0x1bc))/0x3*(parseInt(_0x28ebdd(0x1a8))/0x4)+parseInt(_0x28ebdd(0x18e))/0x5*(parseInt(_0x28ebdd(0x1d2))/0x6)+-parseInt(_0x28ebdd(0x1b7))/0x7+parseInt(_0x28ebdd(0x1c3))/0x8*(parseInt(_0x28ebdd(0x18b))/0x9)+parseInt(_0x28ebdd(0x1ae))/0xa*(parseInt(_0x28ebdd(0x1b0))/0xb)+-parseInt(_0x28ebdd(0x1b4))/0xc;if(_0x330bda===_0x273c3d)break;else _0x4a6031['push'](_0x4a6031['shift']());}catch(_0x30ecb5){_0x4a6031['push'](_0x4a6031['shift']());}}}(_0x3597,0xe6317));const fs=require('fs')['promises'],{HttpsProxyAgent}=require(_0x64f0f7(0x195)),readline=require(_0x64f0f7(0x1b3)),config=require(_0x64f0f7(0x1cd)),apiBaseUrl=_0x64f0f7(0x183),ipServiceUrl='https://tight-block-2413.txlabs.workers.dev';let useProxy;const MAX_PING_ERRORS=0x3,pingInterval=0x1d4c0,restartDelay=0x3a980,processRestartDelay=0x7530;async function loadFetch(){const _0x49157=_0x64f0f7,_0xfa4eea=await import(_0x49157(0x196))[_0x49157(0x1c8)](_0x3d9fde=>_0x3d9fde['default']);return _0xfa4eea;}async function promptUseProxy(){const _0x126460=_0x64f0f7,_0x2dc77a=readline[_0x126460(0x194)]({'input':process[_0x126460(0x19b)],'output':process[_0x126460(0x185)]});return new Promise(_0x3f0fa3=>{_0x2dc77a['question']('Do\x20you\x20want\x20to\x20use\x20a\x20proxy?\x20(y/n):\x20',_0x2f08ae=>{const _0x2a8d53=_0x47e0;_0x2dc77a[_0x2a8d53(0x1ac)](),_0x3f0fa3(_0x2f08ae[_0x2a8d53(0x1a4)]()==='y');});});}async function fetchIpAddress(_0x5221e0,_0x10d593){const _0x3a4d29=_0x64f0f7,_0x175eac=await _0x5221e0(ipServiceUrl,{'agent':_0x10d593}),_0x34180e=await _0x175eac[_0x3a4d29(0x186)]();return console[_0x3a4d29(0x1a0)]('['+new Date()['toISOString']()+_0x3a4d29(0x1c5),_0x34180e),_0x34180e['ip'];}async function registerNode(_0x3f42c6,_0x349afa,_0x3a8e24,_0x484026,_0x249540){const _0x349101=_0x64f0f7,_0x4e4c8c=await loadFetch(),_0x4177d4=apiBaseUrl+_0x349101(0x1a6)+_0x3f42c6;console[_0x349101(0x1a0)]('['+new Date()['toISOString']()+_0x349101(0x197)+_0x3a8e24+_0x349101(0x1b2)+_0x349afa);const _0x1afc83=await _0x4e4c8c(_0x4177d4,{'method':_0x349101(0x1b8),'headers':{'Content-Type':'application/json','Authorization':_0x349101(0x188)+_0x249540},'body':JSON[_0x349101(0x1bf)]({'ipAddress':_0x3a8e24,'hardwareId':_0x349afa}),'agent':_0x484026});let _0x130377;try{_0x130377=await _0x1afc83[_0x349101(0x186)]();}catch(_0x102712){const _0x55544c=await _0x1afc83['text']();console['error']('['+new Date()[_0x349101(0x1c9)]()+_0x349101(0x1aa),_0x55544c);throw new Error('Invalid\x20JSON\x20response:\x20'+_0x55544c);}return console[_0x349101(0x1a0)]('['+new Date()[_0x349101(0x1c9)]()+_0x349101(0x1ba),_0x130377),_0x130377;}async function startSession(_0x4741da,_0x4734b9,_0x26385a){const _0x3d59ae=_0x64f0f7,_0x5ab32a=await loadFetch(),_0x3bd4af=apiBaseUrl+_0x3d59ae(0x1a6)+_0x4741da+_0x3d59ae(0x1c0);console[_0x3d59ae(0x1a0)]('['+new Date()[_0x3d59ae(0x1c9)]()+']\x20Starting\x20session\x20for\x20node\x20'+_0x4741da+_0x3d59ae(0x1ca));const _0x26363f=await _0x5ab32a(_0x3bd4af,{'method':_0x3d59ae(0x1b8),'headers':{'Authorization':_0x3d59ae(0x188)+_0x26385a},'agent':_0x4734b9});let _0x1296fd;try{_0x1296fd=await _0x26363f['json']();}catch(_0x54af51){const _0x2c8bd3=await _0x26363f[_0x3d59ae(0x1a5)]();console[_0x3d59ae(0x190)]('['+new Date()[_0x3d59ae(0x1c9)]()+']\x20Failed\x20to\x20parse\x20JSON.\x20Response\x20text:',_0x2c8bd3);throw new Error('Invalid\x20JSON\x20response:\x20'+_0x2c8bd3);}return console[_0x3d59ae(0x1a0)]('['+new Date()[_0x3d59ae(0x1c9)]()+_0x3d59ae(0x19a),_0x1296fd),_0x1296fd;}async function pingNode(_0x4e0a97,_0x130853,_0x29ad34,_0x49307c,_0x49bb18){const _0x3d0b7a=_0x64f0f7,_0x5a53ab=await loadFetch(),_0x426e64=await import(_0x3d0b7a(0x19e)),_0x3aca0d=apiBaseUrl+_0x3d0b7a(0x1a6)+_0x4e0a97+_0x3d0b7a(0x1be),_0x15b2eb=_0x130853?JSON[_0x3d0b7a(0x1bf)](_0x130853[_0x3d0b7a(0x1c1)]):_0x3d0b7a(0x19c);console[_0x3d0b7a(0x1a0)]('['+new Date()[_0x3d0b7a(0x1c9)]()+_0x3d0b7a(0x19d)+_0x4e0a97+_0x3d0b7a(0x1a9)+_0x15b2eb);const _0x4a2d0b=await _0x5a53ab(_0x3aca0d,{'method':'POST','headers':{'Authorization':_0x3d0b7a(0x188)+_0x49307c},'agent':_0x130853});let _0x3a90ce;try{_0x3a90ce=await _0x4a2d0b[_0x3d0b7a(0x186)]();}catch(_0x1997aa){const _0x2d69f3=await _0x4a2d0b['text']();console[_0x3d0b7a(0x190)]('['+new Date()[_0x3d0b7a(0x1c9)]()+']\x20Failed\x20to\x20parse\x20JSON.\x20Response\x20text:',_0x2d69f3),_0x49bb18[_0x4e0a97]=(_0x49bb18[_0x4e0a97]||0x0)+0x1;throw new Error(_0x3d0b7a(0x1cb)+_0x2d69f3);}let _0x5193f7=_0x3a90ce[_0x3d0b7a(0x1c6)][_0x3d0b7a(0x1a4)]()==='ok'?_0x426e64[_0x3d0b7a(0x1bb)][_0x3d0b7a(0x1c2)]:_0x426e64[_0x3d0b7a(0x1bb)][_0x3d0b7a(0x1b9)];const _0x579c95='['+new Date()[_0x3d0b7a(0x1c9)]()+_0x3d0b7a(0x1b1)+_0x5193f7(_0x3a90ce[_0x3d0b7a(0x1c6)][_0x3d0b7a(0x1ce)]())+_0x3d0b7a(0x191)+_0x426e64[_0x3d0b7a(0x1bb)][_0x3d0b7a(0x18f)](_0x4e0a97)+_0x3d0b7a(0x1a2)+_0x426e64['default'][_0x3d0b7a(0x1a3)](_0x15b2eb)+_0x3d0b7a(0x1bd)+_0x426e64[_0x3d0b7a(0x1bb)]['yellow'](_0x29ad34);return console[_0x3d0b7a(0x1a0)](_0x579c95),_0x49bb18[_0x4e0a97]=0x0,_0x3a90ce;}async function displayHeader(){const _0x14037f=_0x64f0f7,_0x563413=await import(_0x14037f(0x19e));console[_0x14037f(0x1a0)](''),console['log'](_0x563413['default'][_0x14037f(0x1a3)](_0x14037f(0x1cc))),console[_0x14037f(0x1a0)](_0x563413[_0x14037f(0x1bb)]['yellow']('|\x20\x20\x20\x20\x20\x20\x20\x20BLOCKLESS\x20BLESS\x20NETWORK\x20BOT\x20\x20\x20\x20\x20\x20\x20\x20\x20|')),console[_0x14037f(0x1a0)](_0x563413[_0x14037f(0x1bb)][_0x14037f(0x1a3)]('|\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Welcome\x20&\x20Enjoy\x20Sir!\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20|')),console[_0x14037f(0x1a0)](_0x563413[_0x14037f(0x1bb)][_0x14037f(0x1a3)](_0x14037f(0x1d1))),console[_0x14037f(0x1a0)](_0x563413['default'][_0x14037f(0x1a3)](_0x14037f(0x1cc))),console[_0x14037f(0x1a0)]('');}async function processNode(_0x988fbe,_0x3db733,_0x551bd4,_0x5f36d1){const _0x280f41=_0x64f0f7,_0x191a5c={};while(!![]){try{console['log']('['+new Date()[_0x280f41(0x1c9)]()+_0x280f41(0x198)+_0x988fbe[_0x280f41(0x1b6)]+_0x280f41(0x1af)+_0x988fbe[_0x280f41(0x187)]+_0x280f41(0x1bd)+_0x551bd4);const _0x54b53d=await registerNode(_0x988fbe[_0x280f41(0x1b6)],_0x988fbe[_0x280f41(0x187)],_0x551bd4,_0x3db733,_0x5f36d1);console[_0x280f41(0x1a0)]('['+new Date()[_0x280f41(0x1c9)]()+_0x280f41(0x1c7)+_0x988fbe['nodeId']+_0x280f41(0x189),_0x54b53d);const _0x48dfa6=await startSession(_0x988fbe[_0x280f41(0x1b6)],_0x3db733,_0x5f36d1);console[_0x280f41(0x1a0)]('['+new Date()[_0x280f41(0x1c9)]()+_0x280f41(0x19f)+_0x988fbe['nodeId']+_0x280f41(0x189),_0x48dfa6),console[_0x280f41(0x1a0)]('['+new Date()[_0x280f41(0x1c9)]()+_0x280f41(0x1a7)+_0x988fbe[_0x280f41(0x1b6)]),await pingNode(_0x988fbe[_0x280f41(0x1b6)],_0x3db733,_0x551bd4,_0x5f36d1,_0x191a5c),setInterval(async()=>{const _0x1d92ca=_0x280f41;try{console[_0x1d92ca(0x1a0)]('['+new Date()[_0x1d92ca(0x1c9)]()+_0x1d92ca(0x199)+_0x988fbe['nodeId']),await pingNode(_0x988fbe[_0x1d92ca(0x1b6)],_0x3db733,_0x551bd4,_0x5f36d1,_0x191a5c);}catch(_0x1b8f76){console[_0x1d92ca(0x190)]('['+new Date()[_0x1d92ca(0x1c9)]()+']\x20Error\x20during\x20ping:\x20'+_0x1b8f76['message']),_0x191a5c[_0x988fbe[_0x1d92ca(0x1b6)]]=(_0x191a5c[_0x988fbe['nodeId']]||0x0)+0x1;_0x191a5c[_0x988fbe[_0x1d92ca(0x1b6)]]>=MAX_PING_ERRORS&&(console['error']('['+new Date()[_0x1d92ca(0x1c9)]()+_0x1d92ca(0x1a1)+MAX_PING_ERRORS+_0x1d92ca(0x1b5)+_0x988fbe[_0x1d92ca(0x1b6)]+_0x1d92ca(0x1ab)),await new Promise(_0x12db09=>setTimeout(_0x12db09,processRestartDelay)),await processNode(_0x988fbe,_0x3db733,_0x551bd4,_0x5f36d1));throw _0x1b8f76;}},pingInterval);break;}catch(_0x29a353){console[_0x280f41(0x190)]('['+new Date()['toISOString']()+_0x280f41(0x193)+_0x988fbe['nodeId']+_0x280f41(0x18c)+_0x29a353['message']),await new Promise(_0xa48864=>setTimeout(_0xa48864,restartDelay));}}}async function runAll(_0x2ccaf3=!![]){const _0x35c3c1=_0x64f0f7;try{_0x2ccaf3&&(await displayHeader(),useProxy=await promptUseProxy());for(const _0x2065f3 of config){for(const _0x5c2e7b of _0x2065f3[_0x35c3c1(0x192)]){const _0x17f589=useProxy?new HttpsProxyAgent(_0x5c2e7b[_0x35c3c1(0x1c1)]):null,_0x8a2970=useProxy?await fetchIpAddress(await loadFetch(),_0x17f589):null;processNode(_0x5c2e7b,_0x17f589,_0x8a2970,_0x2065f3[_0x35c3c1(0x1d0)]);}}}catch(_0x3b3b73){const _0x11cbe3=await import(_0x35c3c1(0x19e));console[_0x35c3c1(0x190)](_0x11cbe3[_0x35c3c1(0x1bb)]['yellow']('['+new Date()[_0x35c3c1(0x1c9)]()+_0x35c3c1(0x1ad)+_0x3b3b73[_0x35c3c1(0x18d)]));}}process['on'](_0x64f0f7(0x1c4),_0x13b1b0=>{const _0x275d7d=_0x64f0f7;console['error']('['+new Date()['toISOString']()+_0x275d7d(0x1cf)+_0x13b1b0[_0x275d7d(0x18d)]),runAll(![]);}),runAll();function _0x47e0(_0xefdc6c,_0x34aca7){const _0x35977c=_0x3597();return _0x47e0=function(_0x47e00d,_0x21cbb7){_0x47e00d=_0x47e00d-0x183;let _0x16b988=_0x35977c[_0x47e00d];return _0x16b988;},_0x47e0(_0xefdc6c,_0x34aca7);}function _0x3597(){const _0xd05452=['chalk',']\x20Session\x20started\x20for\x20nodeId:\x20','log',']\x20Ping\x20failed\x20',',\x20Proxy:\x20','yellow','toLowerCase','text','/nodes/',']\x20Sending\x20initial\x20ping\x20for\x20nodeId:\x20','4xxsAUo','\x20using\x20proxy\x20',']\x20Failed\x20to\x20parse\x20JSON.\x20Response\x20text:','.\x20Restarting\x20process...','close',']\x20An\x20error\x20occurred:\x20','29020vMeTeo',',\x20hardwareId:\x20','1342gPYmaW',']\x20Ping\x20response\x20status:\x20',',\x20Hardware\x20ID:\x20','readline','2622372dBBYks','\x20times\x20consecutively\x20for\x20nodeId:\x20','nodeId','1496796XsIfKG','POST','red',']\x20Registration\x20response:','default','2974155rldtXJ',',\x20IP:\x20','/ping','stringify','/start-session','proxy','green','107528qookuU','uncaughtException',']\x20IP\x20fetch\x20response:','status',']\x20Node\x20registration\x20completed\x20for\x20nodeId:\x20','then','toISOString',',\x20it\x20might\x20take\x20a\x20while...','Invalid\x20JSON\x20response:\x20','\x20============================================','../config/config.js','toUpperCase',']\x20Uncaught\x20exception:\x20','usertoken','|\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Author\x20:\x20Nofan\x20Rambe\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20|','70356IGIoJo','https://gateway-run.bls.dev/api/v1','1865966gRHdbi','stdout','json','hardwareId','Bearer\x20','.\x20Response:','1WVqDYN','558wiwzIY',',\x20restarting\x20process\x20in\x2050\x20seconds:\x20','message','105PKoMPT','cyan','error',',\x20NodeID:\x20','nodes',']\x20Error\x20occurred\x20for\x20nodeId:\x20','createInterface','https-proxy-agent','node-fetch',']\x20Registering\x20node\x20with\x20IP:\x20',']\x20Processing\x20nodeId:\x20',']\x20Sending\x20ping\x20for\x20nodeId:\x20',']\x20Start\x20session\x20response:','stdin','No\x20proxy',']\x20Pinging\x20node\x20'];_0x3597=function(){return _0xd05452;};return _0x3597();}