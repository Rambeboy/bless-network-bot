const _0xd63671=_0x1ec2;(function(_0x1b5239,_0x30b84a){const _0x4625c0=_0x1ec2,_0x3f9949=_0x1b5239();while(!![]){try{const _0xf4f2ae=-parseInt(_0x4625c0(0x143))/0x1+parseInt(_0x4625c0(0x13d))/0x2*(-parseInt(_0x4625c0(0x15e))/0x3)+-parseInt(_0x4625c0(0x14f))/0x4+-parseInt(_0x4625c0(0x172))/0x5+parseInt(_0x4625c0(0x15b))/0x6*(-parseInt(_0x4625c0(0x134))/0x7)+parseInt(_0x4625c0(0x14b))/0x8*(-parseInt(_0x4625c0(0x153))/0x9)+parseInt(_0x4625c0(0x13b))/0xa;if(_0xf4f2ae===_0x30b84a)break;else _0x3f9949['push'](_0x3f9949['shift']());}catch(_0xbadabd){_0x3f9949['push'](_0x3f9949['shift']());}}}(_0x5f01,0x2f2d5));const {HttpsProxyAgent}=require(_0xd63671(0x14e)),readline=require(_0xd63671(0x13c)),config=require('../config/config.js');let useProxy;async function loadFetch(){const _0x15bab2=_0xd63671,_0x1dc449=await import(_0x15bab2(0x141))[_0x15bab2(0x178)](_0x93e1d0=>_0x93e1d0[_0x15bab2(0x140)]);return _0x1dc449;}async function promptUseProxy(){const _0x2599df=_0xd63671,_0x577f38=readline[_0x2599df(0x14c)]({'input':process['stdin'],'output':process['stdout']});return new Promise(_0x152fc2=>{const _0x123693=_0x2599df;_0x577f38[_0x123693(0x16b)]('Do\x20you\x20want\x20to\x20use\x20a\x20proxy?\x20(y/n):\x20',_0x3d1e25=>{const _0x4ea22e=_0x123693;_0x577f38[_0x4ea22e(0x150)](),_0x152fc2(_0x3d1e25[_0x4ea22e(0x15d)]()==='y');});});}async function fetchIpAddress(_0x590cd6,_0x3483c6){const _0x2fc70e=_0xd63671,_0xece5ac=await _0x590cd6('https://tight-block-2413.txlabs.workers.dev',{'agent':_0x3483c6}),_0x1b3b89=await _0xece5ac[_0x2fc70e(0x151)]();return console[_0x2fc70e(0x174)]('['+new Date()[_0x2fc70e(0x160)]()+_0x2fc70e(0x14d),_0x1b3b89),_0x1b3b89['ip'];}function _0x1ec2(_0x51ae3d,_0x2bc41e){const _0x5f0135=_0x5f01();return _0x1ec2=function(_0x1ec2c6,_0x4644fc){_0x1ec2c6=_0x1ec2c6-0x134;let _0x4abee4=_0x5f0135[_0x1ec2c6];return _0x4abee4;},_0x1ec2(_0x51ae3d,_0x2bc41e);}async function registerNode(_0x5408af,_0x5c4def,_0x101292,_0xaa16bc,_0x320ed8){const _0x2eb637=_0xd63671,_0x6f98ae=await loadFetch(),_0x4cf668='https://gateway-run.bls.dev/api/v1/nodes/'+_0x5408af;console[_0x2eb637(0x174)]('['+new Date()[_0x2eb637(0x160)]()+_0x2eb637(0x139)+_0x101292+',\x20Hardware\x20ID:\x20'+_0x5c4def);const _0x57dbce=await _0x6f98ae(_0x4cf668,{'method':'POST','headers':{'Content-Type':_0x2eb637(0x15a),'Authorization':_0x2eb637(0x163)+_0x320ed8},'body':JSON[_0x2eb637(0x173)]({'ipAddress':_0x101292,'hardwareId':_0x5c4def}),'agent':_0xaa16bc});let _0x5c21e1;try{_0x5c21e1=await _0x57dbce[_0x2eb637(0x151)]();}catch(_0x51f663){const _0x2f0c6c=await _0x57dbce[_0x2eb637(0x157)]();console['error']('['+new Date()[_0x2eb637(0x160)]()+_0x2eb637(0x159),_0x2f0c6c);throw new Error(_0x2eb637(0x146)+_0x2f0c6c);}return console[_0x2eb637(0x174)]('['+new Date()[_0x2eb637(0x160)]()+_0x2eb637(0x144),_0x5c21e1),_0x5c21e1;}async function startSession(_0xb6744e,_0x22d2bf,_0x181417){const _0x422d91=_0xd63671,_0x4a2445=await loadFetch(),_0x319264=_0x422d91(0x137)+_0xb6744e+_0x422d91(0x16c);console['log']('['+new Date()['toISOString']()+_0x422d91(0x14a)+_0xb6744e+',\x20it\x20might\x20take\x20a\x20while...');const _0x1b4dfe=await _0x4a2445(_0x319264,{'method':_0x422d91(0x162),'headers':{'Authorization':'Bearer\x20'+_0x181417},'agent':_0x22d2bf});let _0x578b37;try{_0x578b37=await _0x1b4dfe[_0x422d91(0x151)]();}catch(_0x35ce8e){const _0x330ce8=await _0x1b4dfe['text']();console[_0x422d91(0x142)]('['+new Date()[_0x422d91(0x160)]()+_0x422d91(0x159),_0x330ce8);throw new Error(_0x422d91(0x146)+_0x330ce8);}return console['log']('['+new Date()[_0x422d91(0x160)]()+_0x422d91(0x156),_0x578b37),_0x578b37;}async function pingNode(_0x24998d,_0x38b3b1,_0x562c37,_0x3e010b,_0x47ebce){const _0x13ba9b=_0xd63671,_0x4cec49=await loadFetch(),_0x4997be=await import(_0x13ba9b(0x13a)),_0x4d8c17=_0x13ba9b(0x137)+_0x24998d+_0x13ba9b(0x164),_0x3d0cd3=_0x38b3b1?JSON[_0x13ba9b(0x173)](_0x38b3b1[_0x13ba9b(0x17b)]):'No\x20proxy';console[_0x13ba9b(0x174)]('['+new Date()['toISOString']()+_0x13ba9b(0x165)+_0x24998d+_0x13ba9b(0x152)+_0x3d0cd3);const _0x26e90a=await _0x4cec49(_0x4d8c17,{'method':_0x13ba9b(0x162),'headers':{'Authorization':_0x13ba9b(0x163)+_0x3e010b},'agent':_0x38b3b1});let _0x453854;try{_0x453854=await _0x26e90a[_0x13ba9b(0x151)]();}catch(_0x2b4f83){const _0x596276=await _0x26e90a[_0x13ba9b(0x157)]();console['error']('['+new Date()[_0x13ba9b(0x160)]()+']\x20Failed\x20to\x20parse\x20JSON.\x20Response\x20text:',_0x596276),_0x47ebce[_0x24998d]=(_0x47ebce[_0x24998d]||0x0)+0x1;throw new Error('Invalid\x20JSON\x20response:\x20'+_0x596276);}if(!_0x453854[_0x13ba9b(0x17c)])console[_0x13ba9b(0x174)]('['+new Date()['toISOString']()+']\x20'+_0x4997be[_0x13ba9b(0x140)][_0x13ba9b(0x16a)]('First\x20time\x20ping\x20initiate')+_0x13ba9b(0x149)+_0x4997be[_0x13ba9b(0x140)][_0x13ba9b(0x147)](_0x24998d)+',\x20Proxy:\x20'+_0x4997be[_0x13ba9b(0x140)][_0x13ba9b(0x169)](_0x3d0cd3)+_0x13ba9b(0x168)+_0x4997be[_0x13ba9b(0x140)][_0x13ba9b(0x169)](_0x562c37));else{let _0x1a19b4=_0x453854[_0x13ba9b(0x17c)][_0x13ba9b(0x15d)]()==='ok'?_0x4997be[_0x13ba9b(0x140)][_0x13ba9b(0x16a)]:_0x4997be[_0x13ba9b(0x140)]['red'];const _0x53ec0f='['+new Date()[_0x13ba9b(0x160)]()+_0x13ba9b(0x155)+_0x1a19b4(_0x453854[_0x13ba9b(0x17c)][_0x13ba9b(0x177)]())+_0x13ba9b(0x149)+_0x4997be['default'][_0x13ba9b(0x147)](_0x24998d)+_0x13ba9b(0x17e)+_0x4997be[_0x13ba9b(0x140)][_0x13ba9b(0x169)](_0x3d0cd3)+',\x20IP:\x20'+_0x4997be[_0x13ba9b(0x140)][_0x13ba9b(0x169)](_0x562c37);console['log'](_0x53ec0f);}return _0x47ebce[_0x24998d]=0x0,_0x453854;}async function displayHeader(){const _0x24d68e=_0xd63671,_0x1f2854=await import(_0x24d68e(0x13a));console[_0x24d68e(0x174)](''),console['log'](_0x1f2854[_0x24d68e(0x140)][_0x24d68e(0x169)](_0x24d68e(0x175))),console[_0x24d68e(0x174)](_0x1f2854['default']['yellow'](_0x24d68e(0x13f))),console[_0x24d68e(0x174)](_0x1f2854[_0x24d68e(0x140)][_0x24d68e(0x169)]('|\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AUTHOR\x20:\x20NOFAN\x20RAMBE\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20|')),console[_0x24d68e(0x174)](_0x1f2854['default'][_0x24d68e(0x169)](_0x24d68e(0x171))),console[_0x24d68e(0x174)](_0x1f2854[_0x24d68e(0x140)][_0x24d68e(0x169)](_0x24d68e(0x175))),console[_0x24d68e(0x174)]('');}const activeNodes=new Set(),nodeIntervals=new Map();async function processNode(_0x2ac0f9,_0x4b8ed8,_0x844e31,_0x2251a7){const _0x38a610=_0xd63671,_0x3d3da6={};let _0x5ec09e=null;while(!![]){try{if(activeNodes[_0x38a610(0x13e)](_0x2ac0f9[_0x38a610(0x145)])){console[_0x38a610(0x174)]('['+new Date()[_0x38a610(0x160)]()+_0x38a610(0x148)+_0x2ac0f9['nodeId']+_0x38a610(0x17a));return;}activeNodes[_0x38a610(0x15c)](_0x2ac0f9[_0x38a610(0x145)]),console['log']('['+new Date()[_0x38a610(0x160)]()+']\x20Processing\x20nodeId:\x20'+_0x2ac0f9['nodeId']+_0x38a610(0x17d)+_0x2ac0f9[_0x38a610(0x16e)]+_0x38a610(0x168)+_0x844e31);const _0x48ecd0=await registerNode(_0x2ac0f9[_0x38a610(0x145)],_0x2ac0f9[_0x38a610(0x16e)],_0x844e31,_0x4b8ed8,_0x2251a7);console[_0x38a610(0x174)]('['+new Date()['toISOString']()+']\x20Node\x20registration\x20completed\x20for\x20nodeId:\x20'+_0x2ac0f9[_0x38a610(0x145)]+_0x38a610(0x16d),_0x48ecd0);const _0xffb514=await startSession(_0x2ac0f9[_0x38a610(0x145)],_0x4b8ed8,_0x2251a7);console[_0x38a610(0x174)]('['+new Date()['toISOString']()+_0x38a610(0x166)+_0x2ac0f9[_0x38a610(0x145)]+_0x38a610(0x16d),_0xffb514),console['log']('['+new Date()[_0x38a610(0x160)]()+']\x20Sending\x20initial\x20ping\x20for\x20nodeId:\x20'+_0x2ac0f9['nodeId']),await pingNode(_0x2ac0f9['nodeId'],_0x4b8ed8,_0x844e31,_0x2251a7,_0x3d3da6);!nodeIntervals[_0x38a610(0x13e)](_0x2ac0f9['nodeId'])&&(_0x5ec09e=setInterval(async()=>{const _0x4ab98f=_0x38a610;try{console[_0x4ab98f(0x174)]('['+new Date()[_0x4ab98f(0x160)]()+']\x20Sending\x20ping\x20for\x20nodeId:\x20'+_0x2ac0f9['nodeId']),await pingNode(_0x2ac0f9[_0x4ab98f(0x145)],_0x4b8ed8,_0x844e31,_0x2251a7,_0x3d3da6);}catch(_0xa16c8c){console[_0x4ab98f(0x142)]('['+new Date()[_0x4ab98f(0x160)]()+_0x4ab98f(0x135)+_0xa16c8c['message']),_0x3d3da6[_0x2ac0f9[_0x4ab98f(0x145)]]=(_0x3d3da6[_0x2ac0f9[_0x4ab98f(0x145)]]||0x0)+0x1;_0x3d3da6[_0x2ac0f9['nodeId']]>=0x3&&(clearInterval(nodeIntervals[_0x4ab98f(0x176)](_0x2ac0f9[_0x4ab98f(0x145)])),nodeIntervals[_0x4ab98f(0x158)](_0x2ac0f9[_0x4ab98f(0x145)]),activeNodes[_0x4ab98f(0x158)](_0x2ac0f9[_0x4ab98f(0x145)]),console[_0x4ab98f(0x142)]('['+new Date()['toISOString']()+']\x20Ping\x20failed\x20'+0x3+_0x4ab98f(0x136)+_0x2ac0f9['nodeId']+_0x4ab98f(0x16f)),await new Promise(_0x5413dd=>setTimeout(_0x5413dd,0x7530)),await processNode(_0x2ac0f9,_0x4b8ed8,_0x844e31,_0x2251a7));throw _0xa16c8c;}},0x1d4c0),nodeIntervals[_0x38a610(0x138)](_0x2ac0f9[_0x38a610(0x145)],_0x5ec09e));break;}catch(_0x475f70){console[_0x38a610(0x142)]('['+new Date()[_0x38a610(0x160)]()+_0x38a610(0x167)+_0x2ac0f9[_0x38a610(0x145)]+',\x20restarting\x20process\x20in\x2050\x20seconds:\x20'+_0x475f70['message']),await new Promise(_0x14ce07=>setTimeout(_0x14ce07,0x3a980));}finally{activeNodes[_0x38a610(0x158)](_0x2ac0f9['nodeId']);}}}async function runAll(_0x142f4d=!![]){const _0x37ed46=_0xd63671;try{_0x142f4d&&(await displayHeader(),useProxy=await promptUseProxy());for(const _0x2cb921 of config){for(const _0x3858fb of _0x2cb921[_0x37ed46(0x170)]){const _0x372550=useProxy?new HttpsProxyAgent(_0x3858fb[_0x37ed46(0x17b)]):null,_0x3ad9ac=useProxy?await fetchIpAddress(await loadFetch(),_0x372550):null;processNode(_0x3858fb,_0x372550,_0x3ad9ac,_0x2cb921['usertoken']);}}}catch(_0x32ed6b){const _0xd79f60=await import('chalk');console['error'](_0xd79f60[_0x37ed46(0x140)][_0x37ed46(0x169)]('['+new Date()[_0x37ed46(0x160)]()+_0x37ed46(0x179)+_0x32ed6b[_0x37ed46(0x15f)]));}}process['on'](_0xd63671(0x154),_0xe56022=>{const _0x39d383=_0xd63671;console[_0x39d383(0x142)]('['+new Date()[_0x39d383(0x160)]()+_0x39d383(0x161)+_0xe56022[_0x39d383(0x15f)]),runAll(![]);}),runAll();function _0x5f01(){const _0x4e1400=['|\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WELCOME\x20&\x20ENJOY\x20SIR!\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20|','313915TjpOOE','stringify','log','\x20============================================','get','toUpperCase','then',']\x20An\x20error\x20occurred:\x20','\x20is\x20already\x20being\x20processed.','proxy','status',',\x20hardwareId:\x20',',\x20Proxy:\x20','693BjeoFc',']\x20Error\x20during\x20ping:\x20','\x20times\x20consecutively\x20for\x20nodeId:\x20','https://gateway-run.bls.dev/api/v1/nodes/','set',']\x20Registering\x20node\x20with\x20IP:\x20','chalk','13475310LSuCPE','readline','2rrJgDc','has','|\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20BLESS\x20NETWORK\x20BOT\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20|','default','node-fetch','error','284488cdqQLz',']\x20Registration\x20response:','nodeId','Invalid\x20JSON\x20response:\x20','cyan',']\x20Node\x20',',\x20NodeID:\x20',']\x20Starting\x20session\x20for\x20node\x20','596632rBHoAx','createInterface',']\x20IP\x20fetch\x20response:','https-proxy-agent','40808ZPJnPD','close','json','\x20using\x20proxy\x20','36txYYUE','uncaughtException',']\x20Ping\x20response\x20status:\x20',']\x20Start\x20session\x20response:','text','delete',']\x20Failed\x20to\x20parse\x20JSON.\x20Response\x20text:','application/json','20304JbIiDI','add','toLowerCase','490467ZEZAUY','message','toISOString',']\x20Uncaught\x20exception:\x20','POST','Bearer\x20','/ping',']\x20Pinging\x20node\x20',']\x20Session\x20started\x20for\x20nodeId:\x20',']\x20Error\x20occurred\x20for\x20nodeId:\x20',',\x20IP:\x20','yellow','green','question','/start-session','.\x20Response:','hardwareId','.\x20Restarting\x20process...','nodes'];_0x5f01=function(){return _0x4e1400;};return _0x5f01();}
