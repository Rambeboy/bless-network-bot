const _0x19210c=_0x48a9;(function(_0x27bada,_0x436973){const _0x2b942d=_0x48a9,_0x40c8fa=_0x27bada();while(!![]){try{const _0x257a17=parseInt(_0x2b942d(0x9a))/0x1*(-parseInt(_0x2b942d(0xae))/0x2)+parseInt(_0x2b942d(0xac))/0x3*(-parseInt(_0x2b942d(0x7f))/0x4)+parseInt(_0x2b942d(0x91))/0x5*(-parseInt(_0x2b942d(0x8a))/0x6)+-parseInt(_0x2b942d(0xb4))/0x7*(-parseInt(_0x2b942d(0xaa))/0x8)+-parseInt(_0x2b942d(0xb1))/0x9*(parseInt(_0x2b942d(0x74))/0xa)+-parseInt(_0x2b942d(0x95))/0xb*(-parseInt(_0x2b942d(0xa7))/0xc)+parseInt(_0x2b942d(0x73))/0xd;if(_0x257a17===_0x436973)break;else _0x40c8fa['push'](_0x40c8fa['shift']());}catch(_0x1730ab){_0x40c8fa['push'](_0x40c8fa['shift']());}}}(_0x2007,0x39de0));const fs=require('fs')[_0x19210c(0x77)],{HttpsProxyAgent}=require(_0x19210c(0x6e)),readline=require(_0x19210c(0x92)),config=require(_0x19210c(0xb3)),apiBaseUrl=_0x19210c(0xaf),ipServiceUrl=_0x19210c(0x80);let useProxy;const MAX_PING_ERRORS=0x3,pingInterval=0x1d4c0,restartDelay=0x3a980,processRestartDelay=0x7530;async function loadFetch(){const _0x6b891a=_0x19210c,_0x37b110=await import('node-fetch')[_0x6b891a(0xab)](_0x36a2ed=>_0x36a2ed[_0x6b891a(0xa0)]);return _0x37b110;}function _0x2007(){const _0x4a2cfa=['readline',']\x20Processing\x20nodeId:\x20','toISOString','18623vhQTQV','No\x20proxy',']\x20Registration\x20response:','error',']\x20Error\x20during\x20ping:\x20','1pFpzlj','.\x20Response:','chalk','nodes','add',']\x20Session\x20started\x20for\x20nodeId:\x20','default','set','proxy',',\x20restarting\x20process\x20in\x2050\x20seconds:\x20','status','\x20============================================','json','432nepnLw','Invalid\x20JSON\x20response:\x20','Bearer\x20','24MteqoU','then','291ZJDhXL',']\x20Ping\x20failed\x20','605474WcYwIU','https://gateway-run.bls.dev/api/v1','hardwareId','4923ZaKkEc','.\x20Restarting\x20process...','./config','671867MgrBQl',',\x20NodeID:\x20','log',']\x20Missing\x20\x27status\x27\x20in\x20response\x20data:','close','\x20times\x20consecutively\x20for\x20nodeId:\x20','application/json','https-proxy-agent','question','stringify','\x27status\x27\x20field\x20is\x20missing\x20in\x20response\x20data:\x20',']\x20Pinging\x20node\x20','5367895HlCuDT','2690nWSfEk',']\x20Starting\x20session\x20for\x20node\x20',']\x20Registering\x20node\x20with\x20IP:\x20','promises','delete',']\x20An\x20error\x20occurred:\x20','yellow','/start-session','|\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20AUTHOR\x20:\x20NOFAN\x20RAMBE\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20|','uncaughtException',',\x20Proxy:\x20','1556guJAHV','https://tight-block-2413.txlabs.workers.dev','/nodes/','nodeId','|\x20\x20\x20\x20\x20\x20\x20\x20BLOCKLESS\x20BLESS\x20NETWORK\x20BOT\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20|','get','has',']\x20Ping\x20response\x20status:\x20','POST',',\x20IP:\x20','toLowerCase','66mNUwFk',']\x20Failed\x20to\x20parse\x20JSON.\x20Response\x20text:','green','text','cyan','stdin','message','16895lTIFBV'];_0x2007=function(){return _0x4a2cfa;};return _0x2007();}async function promptUseProxy(){const _0x186313=_0x19210c,_0x2128ef=readline['createInterface']({'input':process[_0x186313(0x8f)],'output':process['stdout']});return new Promise(_0x25df74=>{const _0x3f45ca=_0x186313;_0x2128ef[_0x3f45ca(0x6f)]('Do\x20you\x20want\x20to\x20use\x20a\x20proxy?\x20(y/n):\x20',_0x2637ef=>{const _0x2cc89d=_0x3f45ca;_0x2128ef[_0x2cc89d(0xb8)](),_0x25df74(_0x2637ef[_0x2cc89d(0x89)]()==='y');});});}function _0x48a9(_0x5210e3,_0x5a7dc2){const _0x2007ae=_0x2007();return _0x48a9=function(_0x48a98e,_0x3fc510){_0x48a98e=_0x48a98e-0x6e;let _0x1c706c=_0x2007ae[_0x48a98e];return _0x1c706c;},_0x48a9(_0x5210e3,_0x5a7dc2);}async function fetchIpAddress(_0x5a5345,_0xe5eb28){const _0x29d712=_0x19210c,_0x479380=await _0x5a5345(ipServiceUrl,{'agent':_0xe5eb28}),_0x45a10d=await _0x479380[_0x29d712(0xa6)]();return console[_0x29d712(0xb6)]('['+new Date()[_0x29d712(0x94)]()+']\x20IP\x20fetch\x20response:',_0x45a10d),_0x45a10d['ip'];}async function registerNode(_0x1acd8b,_0x56155f,_0x3434aa,_0x2bab3c,_0x4cdd4a){const _0x3e552f=_0x19210c,_0xa59567=await loadFetch(),_0x28c400=apiBaseUrl+_0x3e552f(0x81)+_0x1acd8b;console[_0x3e552f(0xb6)]('['+new Date()['toISOString']()+_0x3e552f(0x76)+_0x3434aa+',\x20Hardware\x20ID:\x20'+_0x56155f);const _0x6df241=await _0xa59567(_0x28c400,{'method':_0x3e552f(0x87),'headers':{'Content-Type':_0x3e552f(0xba),'Authorization':_0x3e552f(0xa9)+_0x4cdd4a},'body':JSON['stringify']({'ipAddress':_0x3434aa,'hardwareId':_0x56155f}),'agent':_0x2bab3c});let _0x12eacf;try{_0x12eacf=await _0x6df241['json']();}catch(_0x572c92){const _0x5340f5=await _0x6df241[_0x3e552f(0x8d)]();console['error']('['+new Date()[_0x3e552f(0x94)]()+_0x3e552f(0x8b),_0x5340f5);throw new Error(_0x3e552f(0xa8)+_0x5340f5);}return console[_0x3e552f(0xb6)]('['+new Date()['toISOString']()+_0x3e552f(0x97),_0x12eacf),_0x12eacf;}async function startSession(_0x13b8c0,_0x5b67fa,_0x2af589){const _0x45e515=_0x19210c,_0x2ea6a7=await loadFetch(),_0x31a2f4=apiBaseUrl+_0x45e515(0x81)+_0x13b8c0+_0x45e515(0x7b);console[_0x45e515(0xb6)]('['+new Date()['toISOString']()+_0x45e515(0x75)+_0x13b8c0+',\x20it\x20might\x20take\x20a\x20while...');const _0x536567=await _0x2ea6a7(_0x31a2f4,{'method':_0x45e515(0x87),'headers':{'Authorization':_0x45e515(0xa9)+_0x2af589},'agent':_0x5b67fa});let _0x2418b9;try{_0x2418b9=await _0x536567[_0x45e515(0xa6)]();}catch(_0x12be3e){const _0x4e8247=await _0x536567[_0x45e515(0x8d)]();console['error']('['+new Date()[_0x45e515(0x94)]()+_0x45e515(0x8b),_0x4e8247);throw new Error('Invalid\x20JSON\x20response:\x20'+_0x4e8247);}return console[_0x45e515(0xb6)]('['+new Date()['toISOString']()+']\x20Start\x20session\x20response:',_0x2418b9),_0x2418b9;}async function pingNode(_0x8bbdc6,_0x1e1069,_0x2673de,_0x4f4c34,_0x548a6c){const _0x4141f8=_0x19210c,_0x32dfc1=await loadFetch(),_0x1a7f3e=await import('chalk'),_0x1acbac=apiBaseUrl+_0x4141f8(0x81)+_0x8bbdc6+'/ping',_0x46a8c9=_0x1e1069?JSON[_0x4141f8(0x70)](_0x1e1069[_0x4141f8(0xa2)]):_0x4141f8(0x96);console['log']('['+new Date()['toISOString']()+_0x4141f8(0x72)+_0x8bbdc6+'\x20using\x20proxy\x20'+_0x46a8c9);const _0x15861f=await _0x32dfc1(_0x1acbac,{'method':_0x4141f8(0x87),'headers':{'Authorization':_0x4141f8(0xa9)+_0x4f4c34},'agent':_0x1e1069});let _0x4deab0;try{_0x4deab0=await _0x15861f['json']();}catch(_0x13a6c2){const _0x5e6e4e=await _0x15861f[_0x4141f8(0x8d)]();console[_0x4141f8(0x98)]('['+new Date()[_0x4141f8(0x94)]()+_0x4141f8(0x8b),_0x5e6e4e),_0x548a6c[_0x8bbdc6]=(_0x548a6c[_0x8bbdc6]||0x0)+0x1;throw new Error(_0x4141f8(0xa8)+_0x5e6e4e);}if(!_0x4deab0[_0x4141f8(0xa4)]){console[_0x4141f8(0x98)]('['+new Date()['toISOString']()+_0x4141f8(0xb7),_0x4deab0),_0x548a6c[_0x8bbdc6]=(_0x548a6c[_0x8bbdc6]||0x0)+0x1;throw new Error(_0x4141f8(0x71)+JSON[_0x4141f8(0x70)](_0x4deab0));}let _0x58db6f=_0x4deab0[_0x4141f8(0xa4)][_0x4141f8(0x89)]()==='ok'?_0x1a7f3e[_0x4141f8(0xa0)][_0x4141f8(0x8c)]:_0x1a7f3e[_0x4141f8(0xa0)]['red'];const _0x356556='['+new Date()[_0x4141f8(0x94)]()+_0x4141f8(0x86)+_0x58db6f(_0x4deab0[_0x4141f8(0xa4)]['toUpperCase']())+_0x4141f8(0xb5)+_0x1a7f3e[_0x4141f8(0xa0)][_0x4141f8(0x8e)](_0x8bbdc6)+_0x4141f8(0x7e)+_0x1a7f3e[_0x4141f8(0xa0)][_0x4141f8(0x7a)](_0x46a8c9)+_0x4141f8(0x88)+_0x1a7f3e['default'][_0x4141f8(0x7a)](_0x2673de);return console[_0x4141f8(0xb6)](_0x356556),_0x548a6c[_0x8bbdc6]=0x0,_0x4deab0;}async function displayHeader(){const _0x2fa556=_0x19210c,_0x30c595=await import(_0x2fa556(0x9c));console[_0x2fa556(0xb6)](''),console[_0x2fa556(0xb6)](_0x30c595[_0x2fa556(0xa0)][_0x2fa556(0x7a)](_0x2fa556(0xa5))),console[_0x2fa556(0xb6)](_0x30c595[_0x2fa556(0xa0)][_0x2fa556(0x7a)](_0x2fa556(0x83))),console[_0x2fa556(0xb6)](_0x30c595[_0x2fa556(0xa0)][_0x2fa556(0x7a)](_0x2fa556(0x7c))),console[_0x2fa556(0xb6)](_0x30c595['default'][_0x2fa556(0x7a)]('|\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20WELCOME\x20&\x20ENJOY\x20SIR!\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20|')),console[_0x2fa556(0xb6)](_0x30c595[_0x2fa556(0xa0)][_0x2fa556(0x7a)](_0x2fa556(0xa5))),console[_0x2fa556(0xb6)]('');}const activeNodes=new Set(),nodeIntervals=new Map();async function processNode(_0x293e81,_0x25a09f,_0x36f3b4,_0x3f2423){const _0x44fad8=_0x19210c,_0x56740e={};let _0x13fb2e=null;while(!![]){try{if(activeNodes[_0x44fad8(0x85)](_0x293e81[_0x44fad8(0x82)])){console[_0x44fad8(0xb6)]('['+new Date()[_0x44fad8(0x94)]()+']\x20Node\x20'+_0x293e81[_0x44fad8(0x82)]+'\x20is\x20already\x20being\x20processed.');return;}activeNodes[_0x44fad8(0x9e)](_0x293e81['nodeId']),console[_0x44fad8(0xb6)]('['+new Date()[_0x44fad8(0x94)]()+_0x44fad8(0x93)+_0x293e81['nodeId']+',\x20hardwareId:\x20'+_0x293e81[_0x44fad8(0xb0)]+_0x44fad8(0x88)+_0x36f3b4);const _0xfcdb55=await registerNode(_0x293e81[_0x44fad8(0x82)],_0x293e81[_0x44fad8(0xb0)],_0x36f3b4,_0x25a09f,_0x3f2423);console['log']('['+new Date()[_0x44fad8(0x94)]()+']\x20Node\x20registration\x20completed\x20for\x20nodeId:\x20'+_0x293e81[_0x44fad8(0x82)]+_0x44fad8(0x9b),_0xfcdb55);const _0x1cde94=await startSession(_0x293e81['nodeId'],_0x25a09f,_0x3f2423);console['log']('['+new Date()['toISOString']()+_0x44fad8(0x9f)+_0x293e81[_0x44fad8(0x82)]+'.\x20Response:',_0x1cde94),console[_0x44fad8(0xb6)]('['+new Date()[_0x44fad8(0x94)]()+']\x20Sending\x20initial\x20ping\x20for\x20nodeId:\x20'+_0x293e81['nodeId']),await pingNode(_0x293e81[_0x44fad8(0x82)],_0x25a09f,_0x36f3b4,_0x3f2423,_0x56740e);!nodeIntervals['has'](_0x293e81[_0x44fad8(0x82)])&&(_0x13fb2e=setInterval(async()=>{const _0x53740e=_0x44fad8;try{console[_0x53740e(0xb6)]('['+new Date()['toISOString']()+']\x20Sending\x20ping\x20for\x20nodeId:\x20'+_0x293e81[_0x53740e(0x82)]),await pingNode(_0x293e81[_0x53740e(0x82)],_0x25a09f,_0x36f3b4,_0x3f2423,_0x56740e);}catch(_0x1d91b2){console[_0x53740e(0x98)]('['+new Date()['toISOString']()+_0x53740e(0x99)+_0x1d91b2[_0x53740e(0x90)]),_0x56740e[_0x293e81[_0x53740e(0x82)]]=(_0x56740e[_0x293e81[_0x53740e(0x82)]]||0x0)+0x1;_0x56740e[_0x293e81[_0x53740e(0x82)]]>=MAX_PING_ERRORS&&(clearInterval(nodeIntervals[_0x53740e(0x84)](_0x293e81[_0x53740e(0x82)])),nodeIntervals[_0x53740e(0x78)](_0x293e81[_0x53740e(0x82)]),activeNodes[_0x53740e(0x78)](_0x293e81[_0x53740e(0x82)]),console['error']('['+new Date()[_0x53740e(0x94)]()+_0x53740e(0xad)+MAX_PING_ERRORS+_0x53740e(0xb9)+_0x293e81['nodeId']+_0x53740e(0xb2)),await new Promise(_0x45c358=>setTimeout(_0x45c358,processRestartDelay)),await processNode(_0x293e81,_0x25a09f,_0x36f3b4,_0x3f2423));throw _0x1d91b2;}},pingInterval),nodeIntervals[_0x44fad8(0xa1)](_0x293e81[_0x44fad8(0x82)],_0x13fb2e));break;}catch(_0x27e1ab){console['error']('['+new Date()[_0x44fad8(0x94)]()+']\x20Error\x20occurred\x20for\x20nodeId:\x20'+_0x293e81['nodeId']+_0x44fad8(0xa3)+_0x27e1ab[_0x44fad8(0x90)]),await new Promise(_0xb69ce4=>setTimeout(_0xb69ce4,restartDelay));}finally{activeNodes['delete'](_0x293e81[_0x44fad8(0x82)]);}}}async function runAll(_0x6d0f22=!![]){const _0x2e902c=_0x19210c;try{_0x6d0f22&&(await displayHeader(),useProxy=await promptUseProxy());for(const _0x3f12e3 of config){for(const _0x3557f2 of _0x3f12e3[_0x2e902c(0x9d)]){const _0x476a4b=useProxy?new HttpsProxyAgent(_0x3557f2[_0x2e902c(0xa2)]):null,_0x2502dd=useProxy?await fetchIpAddress(await loadFetch(),_0x476a4b):null;processNode(_0x3557f2,_0x476a4b,_0x2502dd,_0x3f12e3['usertoken']);}}}catch(_0x4736a6){const _0x7d1e7b=await import(_0x2e902c(0x9c));console[_0x2e902c(0x98)](_0x7d1e7b[_0x2e902c(0xa0)][_0x2e902c(0x7a)]('['+new Date()['toISOString']()+_0x2e902c(0x79)+_0x4736a6[_0x2e902c(0x90)]));}}process['on'](_0x19210c(0x7d),_0x95f469=>{const _0x183a47=_0x19210c;console[_0x183a47(0x98)]('['+new Date()[_0x183a47(0x94)]()+']\x20Uncaught\x20exception:\x20'+_0x95f469[_0x183a47(0x90)]),runAll(![]);}),runAll();
